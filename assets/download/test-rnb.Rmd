---
title: "R Notebook"
output:
  html_notebook:
    code_folding: none
    df_print: kable
    highlight: pygments
    theme: flatly
  html_document:
    highlight: pygments
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
u.user <- "/mnt/veracrypt1/Data/Kurse/Learn By Example - Statistics and Data Science in R/10 Lists and Data Frames/DataframesSourceCode/movielens data/u.user"
header <- c("userId","age","gender","occupation","zipCode")
userInfo <- read.table(u.user,header = FALSE, sep ="|", quote = "\"'",
                       col.names = header)
head(userInfo,10)
userInfo[2:5,1:2]
userInfo[2:5,c(1,3:4)]
userInfo$age[1:10]
class(userInfo$gender)
length(levels(userInfo$occupation))
levels(userInfo$occupation)
table(userInfo$occupation)
table(userInfo$occupation)
table(userInfo$gender)
range(userInfo$age)
bins <- seq(5,75,by=10)
intervals <- cut(userInfo$age,bins,right=FALSE)
table(intervals)
class(intervals)
names(intervals)
ageFrame <- data.frame(intervals,userInfo$age)
names(ageFrame) <- c("fromto","Age")

plot(table(intervals), type ="h", main = "Age Histogram", xlab = "Intervals", ylab = "Frequency" )
hist(userInfo$age,breaks = bins)
IQR(userInfo$age)

boxplot(Age ~ fromto, data = ageFrame,xlab = "Age from...to", ylab = "Age",main = "Age of participants")

aggregate(age ~ gender, userInfo, mean)
aggregate(age ~ gender + occupation, userInfo, mean)
occupationCounts <- aggregate(userId ~ occupation, userInfo, length)
head(occupationCounts[order(occupationCounts$userId, decreasing = TRUE),],3)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

